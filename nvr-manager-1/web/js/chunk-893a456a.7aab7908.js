(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-893a456a"],{"7a99":function(r,e,o){"use strict";o.r(e);var l=function(){var r=this,e=r.$createElement,o=r._self._c||e;return o("div",[o("a-row",{attrs:{gutter:16}},[o("a-form-model",{ref:"form",attrs:{model:r.form.val,layout:"vertical",rules:r.form.rules}},[o("a-divider",{attrs:{orientation:"left"}},[r._v("监测模块")]),o("a-col",{attrs:{md:24,offset:"1",lg:18}},[o("a-form-model-item",{attrs:{label:"向云端上报的间隔时间（秒）：",prop:"monitor.report_interval",rules:r.form.rules.require}},[o("a-input-number",{attrs:{min:0},model:{value:r.form.val.monitor.report_interval,callback:function(e){r.$set(r.form.val.monitor,"report_interval",e)},expression:"form.val.monitor.report_interval"}})],1)],1),o("a-divider",{attrs:{orientation:"left"}},[r._v("报警模块")]),o("a-col",{attrs:{md:24,offset:"1",lg:18}},[o("a-form-model-item",{attrs:{label:"报警图像存放目录：",prop:"alert.image_dir",rules:r.form.rules.require}},[o("a-input",{model:{value:r.form.val.alert.image_dir,callback:function(e){r.$set(r.form.val.alert,"image_dir",e)},expression:"form.val.alert.image_dir"}})],1),o("a-form-model-item",{attrs:{label:"报警清理，格式为：时:分:秒：",prop:"alert.cleanup_time",rules:r.form.rules.require}},[o("a-input",{model:{value:r.form.val.alert.cleanup_time,callback:function(e){r.$set(r.form.val.alert,"cleanup_time",e)},expression:"form.val.alert.cleanup_time"}})],1),o("a-form-model-item",{attrs:{label:"设置回放报警清理时间（设为0表示不清理）：",prop:"alert.cleanup_days",rules:r.form.rules.require}},[o("a-input-number",{attrs:{min:0},model:{value:r.form.val.alert.cleanup_days,callback:function(e){r.$set(r.form.val.alert,"cleanup_days",e)},expression:"form.val.alert.cleanup_days"}})],1),o("a-form-model-item",{attrs:{label:"是否进行滚动删除：",prop:"alert.scroll_deletion",rules:r.form.rules.require}},[o("a-switch",{model:{value:r.form.val.alert.scroll_deletion,callback:function(e){r.$set(r.form.val.alert,"scroll_deletion",e)},expression:"form.val.alert.scroll_deletion"}})],1)],1),o("a-divider",{attrs:{orientation:"left"}},[r._v("回放模块")]),o("a-col",{attrs:{md:24,offset:"1",lg:18}},[o("a-form-model-item",{attrs:{label:"回放存放目录：",prop:"dvr.playback_dir",rules:r.form.rules.require}},[o("a-input",{model:{value:r.form.val.dvr.playback_dir,callback:function(e){r.$set(r.form.val.dvr,"playback_dir",e)},expression:"form.val.dvr.playback_dir"}})],1),o("a-form-model-item",{attrs:{label:"回放的片段时长（秒）：",prop:"dvr.segment_duration",rules:r.form.rules.require}},[o("a-input-number",{model:{value:r.form.val.dvr.segment_duration,callback:function(e){r.$set(r.form.val.dvr,"segment_duration",e)},expression:"form.val.dvr.segment_duration"}})],1),o("a-form-model-item",{attrs:{label:"回放清理，格式为：时:分:秒：",prop:"dvr.cleanup_time",rules:r.form.rules.require}},[o("a-input",{model:{value:r.form.val.dvr.cleanup_time,callback:function(e){r.$set(r.form.val.dvr,"cleanup_time",e)},expression:"form.val.dvr.cleanup_time"}})],1),o("a-form-model-item",{attrs:{label:"设置回放超时清理时间（设为0表示不清理）：",prop:"dvr.cleanup_days",rules:r.form.rules.require}},[o("a-input-number",{attrs:{min:0},model:{value:r.form.val.dvr.cleanup_days,callback:function(e){r.$set(r.form.val.dvr,"cleanup_days",e)},expression:"form.val.dvr.cleanup_days"}})],1),o("a-form-model-item",{attrs:{label:"是否进行滚动删除：",prop:"dvr.scroll_deletion",rules:r.form.rules.require}},[o("a-switch",{model:{value:r.form.val.dvr.scroll_deletion,callback:function(e){r.$set(r.form.val.dvr,"scroll_deletion",e)},expression:"form.val.dvr.scroll_deletion"}})],1)],1),o("a-divider",{attrs:{orientation:"left"}},[r._v("云端模块")]),o("a-col",{attrs:{md:24,offset:"1",lg:18}},[o("a-form-model-item",{attrs:{label:"是否接入云平台",rules:r.form.rules.require}},[o("a-switch",{model:{value:r.form.val.cloud.mqtt.enable,callback:function(e){r.$set(r.form.val.cloud.mqtt,"enable",e)},expression:"form.val.cloud.mqtt.enable"}})],1),o("a-form-model-item",{attrs:{label:"接入平台：",prop:"cloud.mqtt.zzuiot_platform",rules:r.form.rules.require}},[o("a-select",{attrs:{placeholder:"请选择",disabled:!r.form.val.cloud.mqtt.enable},model:{value:r.form.val.cloud.mqtt.zzuiot_platform,callback:function(e){r.$set(r.form.val.cloud.mqtt,"zzuiot_platform",e)},expression:"form.val.cloud.mqtt.zzuiot_platform"}},[o("a-select-option",{attrs:{value:1}},[r._v("默认云平台")]),o("a-select-option",{attrs:{value:0}},[r._v("其他云平台")])],1)],1),o("a-form-model-item",{attrs:{label:"云平台地址：",prop:"cloud.mqtt.cloud_host",rules:r.form.rules.require}},[o("a-input",{attrs:{disabled:!r.form.val.cloud.mqtt.enable},model:{value:r.form.val.cloud.mqtt.cloud_host,callback:function(e){r.$set(r.form.val.cloud.mqtt,"cloud_host",e)},expression:"form.val.cloud.mqtt.cloud_host"}})],1),o("a-form-model-item",{attrs:{label:"云平台端口：",prop:"cloud.mqtt.cloud_port",rules:r.form.rules.port}},[o("a-input-number",{attrs:{min:0,max:65535,disabled:!r.form.val.cloud.mqtt.enable},model:{value:r.form.val.cloud.mqtt.cloud_port,callback:function(e){r.$set(r.form.val.cloud.mqtt,"cloud_port",e)},expression:"form.val.cloud.mqtt.cloud_port"}})],1),0===r.form.val.cloud.mqtt.zzuiot_platform?[o("a-form-model-item",{attrs:{label:"云平台账号：",prop:"cloud.mqtt.cloud_username",rules:r.form.rules.require}},[o("a-input",{model:{value:r.form.val.cloud.mqtt.cloud_username,callback:function(e){r.$set(r.form.val.cloud.mqtt,"cloud_username",e)},expression:"form.val.cloud.mqtt.cloud_username"}})],1),o("a-form-model-item",{attrs:{label:"云平台密码：",prop:"cloud.mqtt.cloud_password",rules:r.form.rules.require}},[o("a-input",{model:{value:r.form.val.cloud.mqtt.cloud_password,callback:function(e){r.$set(r.form.val.cloud.mqtt,"cloud_password",e)},expression:"form.val.cloud.mqtt.cloud_password"}})],1)]:r._e(),o("a-form-model-item",{attrs:{label:"是否开启代理",rules:r.form.rules.require}},[o("a-switch",{model:{value:r.form.val.cloud.frpc.enable,callback:function(e){r.$set(r.form.val.cloud.frpc,"enable",e)},expression:"form.val.cloud.frpc.enable"}})],1),o("a-form-model-item",{attrs:{label:"代理服务器地址：",prop:"cloud.frpc.server_host",rules:r.form.rules.require}},[o("a-input",{attrs:{disabled:!r.form.val.cloud.frpc.enable},model:{value:r.form.val.cloud.frpc.server_host,callback:function(e){r.$set(r.form.val.cloud.frpc,"server_host",e)},expression:"form.val.cloud.frpc.server_host"}})],1),o("a-form-model-item",{attrs:{label:"代理服务器端口：",prop:"cloud.frpc.server_port",rules:r.form.rules.port}},[o("a-input-number",{attrs:{min:0,max:65535,disabled:!r.form.val.cloud.frpc.enable},model:{value:r.form.val.cloud.frpc.server_port,callback:function(e){r.$set(r.form.val.cloud.frpc,"server_port",e)},expression:"form.val.cloud.frpc.server_port"}})],1),o("a-form-model-item",{attrs:{label:"代理HTTP端口：",prop:"cloud.frpc.server_http_port",rules:r.form.rules.port}},[o("a-input-number",{attrs:{min:0,max:65535,disabled:!r.form.val.cloud.frpc.enable},model:{value:r.form.val.cloud.frpc.server_http_port,callback:function(e){r.$set(r.form.val.cloud.frpc,"server_http_port",e)},expression:"form.val.cloud.frpc.server_http_port"}})],1),o("a-form-model-item",{attrs:{label:"代理调试端口：",prop:"cloud.frpc.remote_ssh_port",rules:r.form.rules.ssh_port}},[o("a-input-number",{attrs:{min:0,max:65535,disabled:!r.form.val.cloud.frpc.enable},model:{value:r.form.val.cloud.frpc.remote_ssh_port,callback:function(e){r.$set(r.form.val.cloud.frpc,"remote_ssh_port",e)},expression:"form.val.cloud.frpc.remote_ssh_port"}})],1),o("a-form-model-item",{attrs:{label:"代理服务器密码：",prop:"cloud.frpc.server_token",disabled:!r.form.val.cloud.frpc.enable}},[o("a-input",{model:{value:r.form.val.cloud.frpc.server_token,callback:function(e){r.$set(r.form.val.cloud.frpc,"server_token",e)},expression:"form.val.cloud.frpc.server_token"}})],1),o("a-form-model-item",{attrs:{label:"推流转发地址：",prop:"cloud.forward.cloud_host",rules:r.form.rules.require}},[o("a-input",{model:{value:r.form.val.cloud.forward.cloud_host,callback:function(e){r.$set(r.form.val.cloud.forward,"cloud_host",e)},expression:"form.val.cloud.forward.cloud_host"}})],1),o("a-form-model-item",{attrs:{label:"推流转发端口：",prop:"cloud.forward.cloud_port",rules:r.form.rules.port}},[o("a-input-number",{attrs:{min:0,max:65535},model:{value:r.form.val.cloud.forward.cloud_port,callback:function(e){r.$set(r.form.val.cloud.forward,"cloud_port",e)},expression:"form.val.cloud.forward.cloud_port"}})],1)],2),o("a-divider",{attrs:{orientation:"left"}},[r._v("AI模块")]),o("a-col",{attrs:{md:24,offset:"1",lg:18}},[o("a-form-model-item",{attrs:{label:"AI项目的存放位置：",prop:"ai.ai_project.project_dir",rules:r.form.rules.require}},[o("a-input",{model:{value:r.form.val.ai.ai_project.project_dir,callback:function(e){r.$set(r.form.val.ai.ai_project,"project_dir",e)},expression:"form.val.ai.ai_project.project_dir"}})],1),o("a-form-model-item",{attrs:{label:"AI任务的日志存放位置：",prop:"ai.ai_task.logs_dir",rules:r.form.rules.require}},[o("a-input",{model:{value:r.form.val.ai.ai_task.logs_dir,callback:function(e){r.$set(r.form.val.ai.ai_task,"logs_dir",e)},expression:"form.val.ai.ai_task.logs_dir"}})],1),o("a-form-model-item",[o("a-button",{attrs:{type:"primary",loading:r.form.confirmLoading},on:{click:function(e){return r.onSubmit("form")}}},[r._v("提交")])],1)],1)],1)],1)],1)},t=[],a=o("f3f3"),m=(o("d3b7"),o("8593")),u=o("ca00"),s={data:function(){var r=function(r,e,o){if(e&&(e<0||e>65535))return o(new Error("端口必须在 0-65535 之间")),!1;o()};return{portCheck:r,upgrade:{visible:!1,confirmLoading:!1,channel:"master"},form:{confirmLoading:!1,val:{monitor:{},alert:{},dvr:{},cloud:{mqtt:{cloud_port:void 0},frpc:{},forward:{}},ai:{ai_project:{},ai_task:{}}},rules:{require:[{required:!0,message:"不可为空",trigger:"blur"}],port:[{required:!0,message:"不可为空",trigger:"blur"},{validator:r,trigger:"blur"}],ssh_port:[{validator:r,trigger:"blur"}]}}}},activated:function(){this.getSystemSetting()},methods:{onSubmit:function(r){var e=this;this.$refs[r].validate((function(r){if(r){e.form.confirmLoading=!0;var o=Object(u["a"])(e.form.val);o.cloud.mqtt.zzuiot_platform=1===o.cloud.mqtt.zzuiot_platform,o.cloud.frpc.server_token=o.cloud.frpc.server_token||"",Object(m["B"])(o).then((function(r){0===r.code?e.$message.success("更新成功！"):e.$message.error(r.msg)}))["finally"]((function(){e.form.confirmLoading=!1}))}}))},getSystemSetting:function(){var r=this;Object(m["i"])().then((function(e){var o=e||{};delete o.code,delete o.message,o.cloud.mqtt.zzuiot_platform=o.cloud.mqtt.zzuiot_platform?1:0,r.form.val=Object(a["a"])({},o)}))}}},i=s,c=(o("f4c6"),o("2877")),d=Object(c["a"])(i,l,t,!1,null,"4b1af5d7",null);e["default"]=d.exports},e376:function(r,e,o){},f4c6:function(r,e,o){"use strict";o("e376")}}]);