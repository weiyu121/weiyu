(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-672ce232"],{"2d00b":function(e,a,r){},5288:function(e,a,r){"use strict";r.r(a);var o=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("div",[r("a-form-model",{ref:"form",staticClass:"form-box",attrs:{model:e.form.val,rules:e.form.rules,"label-col":e.form.labelCol,"wrapper-col":e.form.wrapperCol}},[r("a-form-model-item",{attrs:{label:"原密码",prop:"oldPassword"}},[r("a-input-password",{attrs:{placeholder:"请输入"},model:{value:e.form.val.oldPassword,callback:function(a){e.$set(e.form.val,"oldPassword",a)},expression:"form.val.oldPassword"}})],1),r("a-form-model-item",{attrs:{label:"密码",prop:"password"}},[r("a-input-password",{attrs:{placeholder:"请输入"},model:{value:e.form.val.password,callback:function(a){e.$set(e.form.val,"password",a)},expression:"form.val.password"}})],1),r("a-form-model-item",{attrs:{label:"确认密码",prop:"repassword"}},[r("a-input-password",{attrs:{placeholder:"请输入"},model:{value:e.form.val.repassword,callback:function(a){e.$set(e.form.val,"repassword",a)},expression:"form.val.repassword"}})],1),r("a-form-model-item",{attrs:{wrapperCol:{span:19,offset:5}}},[r("a-button",{attrs:{type:"primary",loading:e.form.confirmLoading},on:{click:function(a){return e.onSubmit("form")}}},[e._v("确定")]),r("a-button",{attrs:{type:"primary"},on:{click:function(a){e.pwdQ.visable=!0}}},[e._v("设置密保")])],1)],1),e.pwdQ.visable?[r("a-divider",{attrs:{orientation:"left"}},[e._v("设置密保问题")]),e.pwdQ.visable?r("a-form-model",{ref:"pwdQForm",staticClass:"form-box",attrs:{model:e.pwdQ.val,rules:e.pwdQ.rules,"label-col":e.form.labelCol,"wrapper-col":e.form.wrapperCol}},e._l(e.pwdQ.val.questions,(function(a,o){return r("div",{key:o},[r("a-form-model-item",{attrs:{label:"问题"+(o+1)}},[r("a-input",{attrs:{placeholder:"请输入密保问题"},model:{value:a.question,callback:function(r){e.$set(a,"question",r)},expression:"item.question"}}),r("a",{staticStyle:{position:"absolute",margin:"0px 32px",width:"28px",color:"red"},attrs:{type:"primary"},on:{click:function(r){return e.removePwdQ(o,a.id)}}},[e._v("删除")])],1),r("a-form-model-item",{attrs:{label:"回答"+(o+1)}},[r("a-input",{attrs:{placeholder:"请输入回答"},model:{value:a.answer,callback:function(r){e.$set(a,"answer",r)},expression:"item.answer"}}),r("a",{staticStyle:{position:"absolute",margin:"0px 32px",width:"128px"},attrs:{type:"primary"},on:{click:function(r){return e.addPwdQ(a)}}},[e._v("添加密保问题")])],1)],1)})),0):e._e()]:e._e()],2)},s=[],t=(r("a434"),r("d3b7"),r("8593")),l=r("7ded"),n={data:function(){return{pwdQ:{visable:!1,confirmLoading:!1,val:{questions:[{},{},{}]}},loading:!1,form:{labelCol:{span:5},wrapperCol:{span:19},confirmLoading:!1,val:{},rules:{oldPassword:[{required:!0,message:"不可为空",trigger:"blur"}],password:[{required:!0,message:"不可为空",trigger:"blur"},{min:6,max:20,message:"字符长度需在6-20之间",trigger:"blur"}],repassword:[{required:!0,message:"不可为空",trigger:"blur"}]}}}},created:function(){this.getPwdQ()},methods:{getPwdQ:function(){var e=this;Object(l["e"])().then((function(a){e.pwdQ.val.questions=a.questions||[];for(var r=e.pwdQ.val.questions.length;r<3;r++)e.pwdQ.val.questions.push({})}))},removePwdQ:function(e,a){var r=this;void 0!==a&&(Object(l["h"])(a).then((function(e){r.$message.success("删除成功!")})),this.pwdQ.val.questions.splice(e,1))},addPwdQ:function(e){var a=this,r=e.question,o=e.answer;if(r&&o){var s={question:r,answer:o};Object(l["a"])(s).then((function(e){a.$message.success("添加成功!")}))}},onSubmit:function(e){var a=this;this.$refs[e].validate((function(e){if(e){var r=a.form.val,o=r.oldPassword,s=r.password,l=r.repassword;if(s===l){a.form.confirmLoading=!0;var n={password:s,auth:{by_password:{origin:o}}};Object(t["A"])(n).then((function(){a.$message.success("设置成功!")}))["finally"]((function(){a.form.confirmLoading=!1}))}else a.$message.warning("两个密码不一致!")}}))}}},i=n,d=(r("85aa"),r("2877")),p=Object(d["a"])(i,o,s,!1,null,"3b671768",null);a["default"]=p.exports},"85aa":function(e,a,r){"use strict";r("2d00b")}}]);