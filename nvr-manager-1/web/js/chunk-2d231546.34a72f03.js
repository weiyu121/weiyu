(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d231546"],{efa0:function(a,e,n){"use strict";n.r(e);var o=function(){var a=this,e=a.$createElement,n=a._self._c||e;return n("div",[n("a-spin",{attrs:{spinning:a.spinning,tip:"Loading..."}},[n("a-form-model",{ref:"form",attrs:{model:a.form.val,rules:a.form.rules,"label-col":a.form.labelCol,"wrapper-col":a.form.wrapperCol}},[n("a-form-model-item",{attrs:{label:"名称"}},[n("a-input",{model:{value:a.form.val.name,callback:function(e){a.$set(a.form.val,"name",e)},expression:"form.val.name"}})],1),n("a-form-model-item",{attrs:{label:"IP"}},[n("a-input",{model:{value:a.form.val.ip,callback:function(e){a.$set(a.form.val,"ip",e)},expression:"form.val.ip"}})],1),n("a-form-model-item",{attrs:{label:"账号"}},[n("a-input",{model:{value:a.form.val.username,callback:function(e){a.$set(a.form.val,"username",e)},expression:"form.val.username"}})],1),n("a-form-model-item",{attrs:{label:"密码"}},[n("a-input",{model:{value:a.form.val.password,callback:function(e){a.$set(a.form.val,"password",e)},expression:"form.val.password"}})],1),n("a-form-model-item",{attrs:{label:"厂家"}},[n("a-input",{attrs:{disabled:!0},model:{value:a.form.val.manufacturer,callback:function(e){a.$set(a.form.val,"manufacturer",e)},expression:"form.val.manufacturer"}})],1),n("a-form-model-item",{attrs:{label:"型号"}},[n("a-input",{model:{value:a.form.val.model,callback:function(e){a.$set(a.form.val,"model",e)},expression:"form.val.model"}})],1)],1)],1),n("a-form-item",{staticClass:"form-btn"},[n("a-button",{on:{click:function(e){return a.closeDetail(!1)}}},[a._v("取消")]),n("a-button",{attrs:{type:"primary",loading:a.form.confirmLoading},on:{click:function(e){return a.onSubmit("form")}}},[a._v("确定")])],1)],1)},r=[],t=(n("d3b7"),n("b0c0"),n("5739")),l={props:{currentInfo:{type:Object,required:!0}},data:function(){return{fileList:[],spinning:!1,form:{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}},confirmLoading:!1,val:{},rules:{}},modelList:{}}},watch:{"currentInfo.id":{handler:"resetForm",immediate:!0}},methods:{resetForm:function(a){var e=this;this.form.confirmLoading=!1,this.$nextTick((function(){e.$refs.form.clearValidate()})),this.currentInfo.isAdd?this.form.val={manufacturer:"海康威视"}:this.getInfo()},getInfo:function(){var a=this;this.spinning=!0;var e=this.currentInfo.id;Object(t["e"])(e).then((function(n){var o=n||{},r=o.ip,t=o.name,l=o.model,i=o.manufacturer;a.form.val={id:e,ip:r,name:t,model:l,manufacturer:i},null==a.form.val.manufacturer&&(a.form.val.manufacturer="海康威视")}))["finally"]((function(e){a.spinning=!1}))},closeDetail:function(a){this.form.confirmLoading=!1,this.$emit("emitToParent",a)},onSubmit:function(a){var e=this;this.$refs[a].validate((function(a){if(a){e.form.confirmLoading=!0;var n=e.currentInfo.isAdd?t["a"]:t["g"];e.updateInfo(n,e.form.val)}}))},updateInfo:function(a,e){var n=this;a(e).then((function(a){n.$message.success("数据提交成功！"),n.closeDetail(!0)}))["finally"]((function(){n.form.confirmLoading=!1}))}}},i=l,m=n("2877"),f=Object(m["a"])(i,o,r,!1,null,null,null);e["default"]=f.exports}}]);