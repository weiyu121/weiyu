(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6081fa72"],{3285:function(s,a,e){"use strict";e("ec26")},ec26:function(s,a,e){},fad1:function(s,a,e){"use strict";e.r(a);var t=function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("div",[e("div",{staticClass:"table-operator"},[e("a-button",{attrs:{icon:"reload"},on:{click:s.getList}},[s._v("搜索")])],1),e("a-table",{staticClass:"table-box",attrs:{columns:s.columns,dataSource:s.pageData.records,rowKey:"index",loading:s.pageData.tableLoading,pagination:!1},scopedSlots:s._u([{key:"state",fn:function(a,t){return e("span",{},[e("a-tag",{attrs:{color:t.ssid===s.ssid?"green":""}},[s._v(s._s(t.ssid===s.ssid?"已":"未")+"连接")]),t.ssid===s.ssid?e("a",{on:{click:function(){return s.visible=!0}}},[s._v("详情")]):s._e()],1)}}])}),e("a-form-model",{ref:"form",staticClass:"form-box",attrs:{model:s.form.val,rules:s.form.rules,"label-col":s.form.labelCol,"wrapper-col":s.form.wrapperCol}},[e("a-form-model-item",{attrs:{label:"名称",prop:"ssid"}},[e("a-input",{attrs:{placeholder:"请输入"},model:{value:s.form.val.ssid,callback:function(a){s.$set(s.form.val,"ssid",a)},expression:"form.val.ssid"}})],1),e("a-form-model-item",{attrs:{label:"密码",prop:"password"}},[e("a-input-password",{attrs:{placeholder:"请输入"},model:{value:s.form.val.password,callback:function(a){s.$set(s.form.val,"password",a)},expression:"form.val.password"}})],1),e("a-form-model-item",{attrs:{wrapperCol:{span:20,offset:4}}},[e("a-button",{attrs:{type:"primary",loading:s.form.confirmLoading1},on:{click:function(a){return s.onSubmit("form","save")}}},[s._v("保存")]),e("a-button",{attrs:{type:"primary",loading:s.form.confirmLoading2},on:{click:function(a){return s.onSubmit("form","online")}}},[s._v("连接")])],1)],1),e("a-modal",{attrs:{title:s.ssid+"WIFI详情",footer:null},model:{value:s.visible,callback:function(a){s.visible=a},expression:"visible"}},[e("p",[s._v("名称："+s._s(s.online.ssid))]),e("p",[s._v("频道："+s._s(s.online.channel))]),e("p",[s._v("速度(Mbps)："+s._s(s.online.rate))]),e("p",[s._v("信号强度："+s._s(s.online.rssi))]),e("p",[s._v("安全模式："+s._s(s.online.security))]),e("p",[s._v("ip地址："+s._s(s.online.address))]),e("p",[s._v("子网掩码："+s._s(s.online.netmask))]),e("p",[s._v("网关地址："+s._s(s.online.gateway))]),e("div",[s._v(" ipv4： "),s.online.ipv4?[e("div",{staticClass:"staticip"},[e("p",[s._v("ip地址："+s._s(s.online.ipv4.address))]),e("p",[s._v("子网掩码："+s._s(s.online.ipv4.netmask))]),e("p",[s._v("网关地址："+s._s(s.online.ipv4.gateway))])])]:e("span",[s._v("动态DHCP获取ip")])],2)])],1)},i=[],n=(e("d3b7"),e("4160"),e("159b"),e("8593")),o=[{title:"名称",dataIndex:"ssid",width:"20%"},{title:"安全模式",dataIndex:"security",width:"20%"},{title:"频道",dataIndex:"channel",width:"20%"},{title:"信号强度",dataIndex:"rssi",width:"16%"},{title:"速度(Mbps)",dataIndex:"rate",width:"16%"},{title:"连接状态",dataIndex:"state",width:"18%",scopedSlots:{customRender:"state"}}],r={0:"not-encrypted",1:"WEP",2:"WPA-personal",3:"WPA-enterprise",4:"WPA2-personal",5:"WPA2-enterprise"},l={0:"AES",1:"TKIP"},d={data:function(){return{channelMap:r,pwdMap:l,online:{},visible:!1,columns:o,pageData:{tableLoading:!1,records:[]},ssid:"",form:{labelCol:{span:4},wrapperCol:{span:20},confirmLoading1:!1,confirmLoading2:!1,val:{},rules:{ssid:[{required:!0,message:"不可为空",trigger:"blur"}],password:[{required:!0,message:"不可为空",trigger:"blur"}]}}}},activated:function(){this.getLastWifiInfo(),this.getList()},methods:{getLastWifiInfo:function(){var s=this;Object(n["e"])().then((function(a){var e=a||{},t=e.ssid,i=e.password;s.form.val={ssid:t,password:i}}))},getList:function(){var s=this;this.pageData.tableLoading=!0,Object(n["h"])().then((function(a){var e=a.ssid,t=a.channel,i=a.rate,n=a.rssi,o=a.security,r=a.address,l=a.netmask,d=a.gateway,c=a.ipv4;s.ssid=e,s.online={ssid:e,channel:t,rate:i,rssi:n,security:o,address:r,netmask:l,gateway:d,ipv4:c}})),Object(n["m"])().then((function(a){var e={},t=[];(a.wifi_list||[]).forEach((function(s,a){e[s.ssid]||(s.index=t.length+1,e[s.ssid]=s.index,t.push(s))})),s.pageData.records=t}))["finally"]((function(a){s.pageData.tableLoading=!1}))},onSubmit:function(s,a){var e=this;this.$refs[s].validate((function(s){if(s){var t=e.form.val,i=t.ssid,o=t.password,r="save"===a?n["r"]:n["o"];"save"===a?e.form.confirmLoading1=!0:e.form.confirmLoading2=!0,r({ssid:i,password:o}).then((function(){var s="save"===a?"WIFI保存成功!":"WIFI连接成功!";e.$message.success(s)}))["finally"]((function(){e.form.confirmLoading1=!1,e.form.confirmLoading2=!1}))}}))}}},c=d,p=(e("3285"),e("2877")),f=Object(p["a"])(c,t,i,!1,null,"002fb786",null);a["default"]=f.exports}}]);